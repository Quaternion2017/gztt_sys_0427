{"ast":null,"code":"import _classCallCheck from \"C:\\\\Users\\\\Administrator\\\\Desktop\\\\3.\\u516C\\u53F8\\u9879\\u76EE\\\\4.\\u5149\\u5B50\\u5934\\u6761\\\\gztt_sys\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"C:\\\\Users\\\\Administrator\\\\Desktop\\\\3.\\u516C\\u53F8\\u9879\\u76EE\\\\4.\\u5149\\u5B50\\u5934\\u6761\\\\gztt_sys\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"C:\\\\Users\\\\Administrator\\\\Desktop\\\\3.\\u516C\\u53F8\\u9879\\u76EE\\\\4.\\u5149\\u5B50\\u5934\\u6761\\\\gztt_sys\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"C:\\\\Users\\\\Administrator\\\\Desktop\\\\3.\\u516C\\u53F8\\u9879\\u76EE\\\\4.\\u5149\\u5B50\\u5934\\u6761\\\\gztt_sys\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"C:\\\\Users\\\\Administrator\\\\Desktop\\\\3.\\u516C\\u53F8\\u9879\\u76EE\\\\4.\\u5149\\u5B50\\u5934\\u6761\\\\gztt_sys\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";\nimport _assertThisInitialized from \"C:\\\\Users\\\\Administrator\\\\Desktop\\\\3.\\u516C\\u53F8\\u9879\\u76EE\\\\4.\\u5149\\u5B50\\u5934\\u6761\\\\gztt_sys\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/assertThisInitialized\";\nvar _jsxFileName = \"C:\\\\Users\\\\Administrator\\\\Desktop\\\\3.\\u516C\\u53F8\\u9879\\u76EE\\\\4.\\u5149\\u5B50\\u5934\\u6761\\\\gztt_sys\\\\src\\\\pages\\\\rbac\\\\rbac.js\";\nimport React, { Component } from 'react';\nimport { Tabs, Select, Table, Row, Col, Button, Input, Modal, Form, Badge, List, Avatar } from 'antd';\nimport './rbac.less';\nimport province from '../../mock/geographic/province.json';\nimport city from '../../mock/geographic/city.json';\nimport district from '../../mock/geographic/district.json';\nimport apiRequest from '../../servers/api/apiRequest';\nvar Search = Input.Search;\nvar TabPane = Tabs.TabPane;\nvar Option = Select.Option;\nvar formItemLayout = {\n  labelCol: {\n    span: 4\n  },\n  wrapperCol: {\n    span: 8\n  }\n};\n\nvar rbac =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(rbac, _Component);\n\n  function rbac(props) {\n    var _this;\n\n    _classCallCheck(this, rbac);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(rbac).call(this, props));\n    _this.state = {\n      tabPosition: 'left',\n      accountData: [],\n      pagination: {\n        total: 0,\n        pageSize: 10\n      },\n      current: 0,\n      visible: false,\n      tabData: [],\n      roles: []\n    };\n\n    _this.updateState = function (id, state) {\n      //更改账号状态\n      var promise = apiRequest.all(\"updateState\", id + \"/\" + state, null, \"服务器繁忙请稍后重试！\");\n\n      var thic = _assertThisInitialized(_assertThisInitialized(_this));\n\n      promise.then(function (value) {\n        if (value.code === 1) {\n          thic.queryPage(thic.state.current, thic.state.pagination.pageSize);\n        }\n      });\n    };\n\n    _this.queryPage = function (current, size, name) {\n      //分页查询数据\n      var promise = apiRequest.all(\"adminQueryPage\", current + \"/\" + size + (name != undefined ? \"?name=\" + name : \"\"), null, \"服务器繁忙请稍后重试！\");\n\n      var thic = _assertThisInitialized(_assertThisInitialized(_this));\n\n      promise.then(function (value) {\n        if (value.code === 1) {\n          var pagination = thic.state.pagination;\n          pagination.total = value.data.count;\n          pagination.onChange = thic.paging.bind(this);\n          thic.setState({\n            tabData: value.data.data,\n            pagination: thic.state.pagination\n          });\n        }\n      });\n    };\n\n    _this.addUser = function (e) {\n      //添加用户\n      e.preventDefault();\n\n      _this.props.form.validateFields(function (err, values) {\n        if (!err) {\n          var data = {\n            account: values.account,\n            roleid: values.roleId\n          };\n\n          var thic = _assertThisInitialized(_assertThisInitialized(_this));\n\n          var promise = apiRequest.all(\"saveAdmin\", data, \"添加成功\", null);\n          promise.then(function (value) {\n            if (value.code === 1) {\n              thic.setState({\n                loading: false,\n                visible: false\n              });\n              thic.queryPage(0, thic.state.pagination.pageSize);\n            } else {\n              thic.setState({\n                loading: false\n              });\n            }\n          });\n        }\n      });\n\n      _this.setState({\n        loading: true\n      });\n    };\n\n    _this.showModal = function () {\n      _this.getRole();\n\n      _this.setState({\n        visible: true,\n        loading: false\n      });\n    };\n\n    _this.getRole = function () {\n      var roles = [{\n        label: \"代理商\",\n        value: 1\n      }, {\n        label: \"企业用户\",\n        value: 2\n      }];\n\n      _this.setState({\n        roles: roles\n      });\n    };\n\n    _this.paging = function (page, pageSize) {\n      _this.queryPage((page - 1) * 10, pageSize);\n    };\n\n    _this.handleCancel = function (e) {\n      _this.setState({\n        visible: false\n      });\n    };\n\n    _this.handleSelectChange = function (value) {\n      _this.props.form.setFieldsValue({\n        note: \"Hi, \".concat(value === 'male' ? 'man' : 'lady', \"!\")\n      });\n    };\n\n    return _this;\n  }\n\n  _createClass(rbac, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var current = this.state.current;\n      this.queryPage(current, this.state.pagination.pageSize);\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      var _this$state = this.state,\n          tabs = _this$state.tabs,\n          options = _this$state.options,\n          roles = _this$state.roles,\n          loading = _this$state.loading,\n          tabData = _this$state.tabData;\n      var getFieldDecorator = this.props.form.getFieldDecorator;\n      var columns = [{\n        title: '编号',\n        dataIndex: 'id',\n        key: 'id',\n        render: function render(text, record, index) {\n          return index + 1;\n        }\n      }, {\n        title: '账号',\n        dataIndex: 'account',\n        key: 'account'\n      }, {\n        title: '角色',\n        dataIndex: 'role',\n        key: 'role'\n      }, {\n        title: '创建时间',\n        dataIndex: 'createTime',\n        key: 'createTime',\n        render: function render(text, record, index) {\n          return new Date(text).toLocaleString();\n        }\n      }, {\n        title: '状态',\n        dataIndex: 'state',\n        key: 'state',\n        render: function render(text, record, index) {\n          switch (text) {\n            case 0:\n              return React.createElement(\"span\", {\n                style: {\n                  color: '#52c41a'\n                },\n                __source: {\n                  fileName: _jsxFileName,\n                  lineNumber: 163\n                },\n                __self: this\n              }, React.createElement(Badge, {\n                status: \"success\",\n                __source: {\n                  fileName: _jsxFileName,\n                  lineNumber: 163\n                },\n                __self: this\n              }), \"\\u6B63\\u5E38\");\n              break;\n\n            case 1:\n              return React.createElement(\"span\", {\n                style: {\n                  color: 'red'\n                },\n                __source: {\n                  fileName: _jsxFileName,\n                  lineNumber: 168\n                },\n                __self: this\n              }, React.createElement(Badge, {\n                status: \"error\",\n                __source: {\n                  fileName: _jsxFileName,\n                  lineNumber: 168\n                },\n                __self: this\n              }), \"\\u51BB\\u7ED3\");\n              break;\n\n            default:\n              return \"未知\";\n          }\n        }\n      }, {\n        title: '最近登录时间',\n        dataIndex: 'lastTime',\n        key: 'lastTime',\n        render: function render(text, record, index) {\n          if (text != null && text.length > 0) {\n            return new Date(text).toLocaleString();\n          }\n        }\n      }, {\n        title: '操作',\n        dataIndex: 'id',\n        key: 'caozuo',\n        render: function render(text, record, index) {\n          console.log(record);\n\n          switch (record.state) {\n            case 1:\n              return React.createElement(Button, {\n                onClick: _this2.updateState.bind(_this2, record.id, 0),\n                __source: {\n                  fileName: _jsxFileName,\n                  lineNumber: 193\n                },\n                __self: this\n              }, \"\\u89E3\\u51BB\");\n              break;\n\n            case 0:\n              return React.createElement(Button, {\n                onClick: _this2.updateState.bind(_this2, record.id, 1),\n                __source: {\n                  fileName: _jsxFileName,\n                  lineNumber: 198\n                },\n                __self: this\n              }, \"\\u51BB\\u7ED3\");\n              break;\n\n            default:\n              return \"未知\";\n          }\n        }\n      }];\n      var data = [{\n        title: 'Ant Design Title 1'\n      }, {\n        title: 'Ant Design Title 2'\n      }, {\n        title: 'Ant Design Title 3'\n      }, {\n        title: 'Ant Design Title 4'\n      }];\n      return React.createElement(\"div\", {\n        style: {\n          background: '#fff',\n          height: '100%'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 223\n        },\n        __self: this\n      }, React.createElement(Modal, {\n        visible: this.state.visible,\n        onOk: this.addUser,\n        onCancel: this.handleCancel,\n        closable: false,\n        destroyOnClose: true,\n        footer: [React.createElement(Button, {\n          key: \"back\",\n          onClick: this.handleCancel,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 232\n          },\n          __self: this\n        }, \"\\u53D6\\u6D88\"), React.createElement(Button, {\n          key: \"submit\",\n          type: \"primary\",\n          loading: loading,\n          onClick: this.addUser,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 233\n          },\n          __self: this\n        }, \"\\u63D0\\u4EA4\")],\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 225\n        },\n        __self: this\n      }, React.createElement(Form, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 238\n        },\n        __self: this\n      }, React.createElement(Form.Item, Object.assign({\n        label: \"\\u8D26\\u53F7\",\n        required: true\n      }, formItemLayout, {\n        style: {\n          marginBottom: '0'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 239\n        },\n        __self: this\n      }), getFieldDecorator('account', {\n        rules: [{\n          required: true,\n          message: '请填写您的账号'\n        }]\n      })(React.createElement(Input, {\n        placeholder: \"\\u8BF7\\u8F93\\u5165\\u8D26\\u53F7\",\n        type: \"text\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 248\n        },\n        __self: this\n      }))), React.createElement(Form.Item, Object.assign({\n        label: \"\\u89D2\\u8272\",\n        required: true\n      }, formItemLayout, {\n        style: {\n          marginBottom: '0'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 251\n        },\n        __self: this\n      }), getFieldDecorator('roleId', {\n        rules: [{\n          required: true,\n          message: '请选择角色'\n        }]\n      })(React.createElement(Select, {\n        style: {\n          width: 120\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 260\n        },\n        __self: this\n      }, roles.map(function (item, index) {\n        return React.createElement(Option, {\n          value: item.value,\n          key: index,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 264\n          },\n          __self: this\n        }, item.label);\n      })))))), React.createElement(Tabs, {\n        tabPosition: this.state.tabPosition,\n        tabBarGutter: 10,\n        animated: true,\n        style: {\n          height: '75vh',\n          width: '100%'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 273\n        },\n        __self: this\n      }, React.createElement(TabPane, {\n        tab: \"\\u8D26\\u53F7\\u7BA1\\u7406\",\n        key: \"1\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 274\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"tabPane\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 275\n        },\n        __self: this\n      }, React.createElement(Row, {\n        gutter: 32,\n        style: {\n          padding: '1rem  0 1rem 0'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 276\n        },\n        __self: this\n      }, React.createElement(Col, {\n        span: 12,\n        style: {\n          paddingLeft: '0'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 277\n        },\n        __self: this\n      }, \"  \", React.createElement(Search, {\n        placeholder: \"\\u8D26\\u53F7\\u3001\\u7F16\\u53F7\\u67E5\\u8BE2\",\n        onSearch: function onSearch(value) {\n          _this2.queryPage(0, _this2.state.pagination.pageSize, value);\n\n          console.log(value);\n        },\n        style: {\n          width: 200\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 277\n        },\n        __self: this\n      })), React.createElement(Col, {\n        span: 11,\n        style: {\n          textAlign: 'right',\n          paddingRight: '0'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 285\n        },\n        __self: this\n      }, React.createElement(Button, {\n        type: \"primary\",\n        onClick: this.showModal,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 285\n        },\n        __self: this\n      }, \"\\u6DFB\\u52A0\"))), React.createElement(Row, {\n        gutter: 32,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 287\n        },\n        __self: this\n      }, React.createElement(Table, {\n        dataSource: tabData,\n        columns: columns,\n        pagination: this.state.pagination,\n        loading: this.state.loading,\n        style: {\n          marginRight: '24px'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 288\n        },\n        __self: this\n      })))), React.createElement(TabPane, {\n        tab: \"\\u83DC\\u5355\\u7BA1\\u7406\",\n        key: \"2\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 298\n        },\n        __self: this\n      }, React.createElement(Row, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 299\n        },\n        __self: this\n      }, React.createElement(Col, {\n        span: 5,\n        style: {\n          border: '1px solid red'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 300\n        },\n        __self: this\n      }, React.createElement(List, {\n        itemLayout: \"horizontal\",\n        dataSource: data,\n        renderItem: function renderItem(item) {\n          return React.createElement(List.Item, {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 305\n            },\n            __self: this\n          }, React.createElement(List.Item.Meta, {\n            avatar: React.createElement(Avatar, {\n              src: \"https://zos.alipayobjects.com/rmsportal/ODTLcjxAfvqbxHnVXCYX.png\",\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 307\n              },\n              __self: this\n            }),\n            title: React.createElement(\"a\", {\n              href: \"https://ant.design\",\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 308\n              },\n              __self: this\n            }, item.title),\n            description: \"Ant Design, a design language for background applications, is refined by Ant UED Team\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 306\n            },\n            __self: this\n          }));\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 301\n        },\n        __self: this\n      })))), React.createElement(TabPane, {\n        tab: \"\\u529F\\u80FD\\u6743\\u9650\",\n        key: \"3\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 316\n        },\n        __self: this\n      })));\n    }\n  }]);\n\n  return rbac;\n}(Component);\n\nexport default Form.create()(rbac);","map":{"version":3,"sources":["C:\\Users\\Administrator\\Desktop\\3.公司项目\\4.光子头条\\gztt_sys\\src\\pages\\rbac\\rbac.js"],"names":["React","Component","Tabs","Select","Table","Row","Col","Button","Input","Modal","Form","Badge","List","Avatar","province","city","district","apiRequest","Search","TabPane","Option","formItemLayout","labelCol","span","wrapperCol","rbac","props","state","tabPosition","accountData","pagination","total","pageSize","current","visible","tabData","roles","updateState","id","promise","all","thic","then","value","code","queryPage","size","name","undefined","data","count","onChange","paging","bind","setState","addUser","e","preventDefault","form","validateFields","err","values","account","roleid","roleId","loading","showModal","getRole","label","page","handleCancel","handleSelectChange","setFieldsValue","note","tabs","options","getFieldDecorator","columns","title","dataIndex","key","render","text","record","index","Date","toLocaleString","color","length","console","log","background","height","marginBottom","rules","required","message","width","map","item","padding","paddingLeft","textAlign","paddingRight","marginRight","border","create"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\r\nimport { Tabs, Select, Table, Row, Col, Button, Input, Modal, Form, Badge,List,Avatar } from 'antd';\r\nimport './rbac.less';\r\nimport province from '../../mock/geographic/province.json';\r\nimport city from '../../mock/geographic/city.json';\r\nimport district from '../../mock/geographic/district.json';\r\nimport apiRequest from '../../servers/api/apiRequest';\r\nconst Search = Input.Search;\r\nconst TabPane = Tabs.TabPane;\r\nconst Option = Select.Option;\r\n\r\nconst formItemLayout = {\r\n  labelCol: { span: 4 },\r\n  wrapperCol: { span: 8 },\r\n};\r\n\r\nclass rbac extends Component {\r\n  state = {\r\n    tabPosition: 'left',\r\n    accountData: [],\r\n    pagination: {\r\n      total: 0,\r\n      pageSize: 10\r\n    },\r\n    current: 0,\r\n    visible: false,\r\n    tabData: [],\r\n    roles: []\r\n  }\r\n\r\n  constructor(props) {\r\n    super(props);\r\n  }\r\n\r\n  componentDidMount() {\r\n    var { current } = this.state;\r\n    this.queryPage(current, this.state.pagination.pageSize);\r\n  }\r\n  updateState = (id, state) => {  //更改账号状态\r\n    let promise = apiRequest.all(\"updateState\", id + \"/\" + state, null, \"服务器繁忙请稍后重试！\");\r\n    var thic = this;\r\n    promise.then(function (value) {\r\n      if (value.code === 1) {\r\n        thic.queryPage(thic.state.current, thic.state.pagination.pageSize);\r\n      }\r\n    })\r\n  }\r\n  queryPage = (current, size, name) => { //分页查询数据\r\n    let promise = apiRequest.all(\"adminQueryPage\", current + \"/\" + size + (name != undefined ? \"?name=\" + name : \"\"), null, \"服务器繁忙请稍后重试！\");\r\n    var thic = this;\r\n    promise.then(function (value) {\r\n      if (value.code === 1) {\r\n        let pagination = thic.state.pagination;\r\n        pagination.total = value.data.count;\r\n        pagination.onChange = thic.paging.bind(this)\r\n        thic.setState({\r\n          tabData: value.data.data,\r\n          pagination: thic.state.pagination\r\n        });\r\n      }\r\n    })\r\n  }\r\n\r\n  addUser = (e) => { //添加用户\r\n    e.preventDefault();\r\n    this.props.form.validateFields((err, values) => {\r\n      if (!err) {\r\n        var data = {\r\n          account: values.account,\r\n          roleid: values.roleId\r\n        };\r\n        let thic = this;\r\n        let promise = apiRequest.all(\"saveAdmin\", data, \"添加成功\", null);\r\n        promise.then(function (value) {\r\n          if (value.code === 1) {\r\n            thic.setState({\r\n              loading: false,\r\n              visible: false\r\n            });\r\n            thic.queryPage(0, thic.state.pagination.pageSize);\r\n          } else {\r\n            thic.setState({\r\n              loading: false\r\n            });\r\n          }\r\n        })\r\n      }\r\n    });\r\n    this.setState({\r\n      loading: true\r\n    });\r\n  }\r\n\r\n  showModal = () => {\r\n    this.getRole();\r\n    this.setState({\r\n      visible: true,\r\n      loading: false\r\n    });\r\n  }\r\n\r\n  getRole = () => {\r\n    var roles = [{\r\n      label: \"代理商\",\r\n      value: 1\r\n    }, {\r\n      label: \"企业用户\",\r\n      value: 2\r\n    }];\r\n    this.setState({\r\n      roles: roles\r\n    })\r\n  }\r\n\r\n  paging = (page, pageSize) => {\r\n    this.queryPage((page - 1) * 10, pageSize);\r\n  }\r\n\r\n  handleCancel = (e) => {\r\n    this.setState({\r\n      visible: false,\r\n    });\r\n  }\r\n  handleSelectChange = (value) => {\r\n    this.props.form.setFieldsValue({\r\n      note: `Hi, ${value === 'male' ? 'man' : 'lady'}!`,\r\n    });\r\n  }\r\n  render() {\r\n    const { tabs, options, roles, loading, tabData } = this.state;\r\n    const { getFieldDecorator } = this.props.form;\r\n    const columns = [\r\n      {\r\n        title: '编号',\r\n        dataIndex: 'id',\r\n        key: 'id',\r\n        render: (text, record, index) => {\r\n          return index + 1;\r\n        }\r\n      }, {\r\n        title: '账号',\r\n        dataIndex: 'account',\r\n        key: 'account',\r\n      }, {\r\n        title: '角色',\r\n        dataIndex: 'role',\r\n        key: 'role',\r\n      }, {\r\n        title: '创建时间',\r\n        dataIndex: 'createTime',\r\n        key: 'createTime',\r\n        render: (text, record, index) => {\r\n          return new Date(text).toLocaleString();\r\n        }\r\n      }, {\r\n        title: '状态',\r\n        dataIndex: 'state',\r\n        key: 'state',\r\n        render: (text, record, index) => {\r\n          switch (text) {\r\n            case 0:\r\n              return (\r\n                <span style={{ color: '#52c41a' }}><Badge status=\"success\" />正常</span>\r\n              )\r\n              break;\r\n            case 1:\r\n              return (\r\n                <span style={{ color: 'red' }}><Badge status=\"error\" />冻结</span>\r\n              )\r\n              break;\r\n            default:\r\n              return \"未知\"\r\n          }\r\n        }\r\n      }, {\r\n        title: '最近登录时间',\r\n        dataIndex: 'lastTime',\r\n        key: 'lastTime',\r\n        render: (text, record, index) => {\r\n          if (text != null && text.length > 0) {\r\n            return new Date(text).toLocaleString();\r\n          }\r\n        }\r\n      }, {\r\n        title: '操作',\r\n        dataIndex: 'id',\r\n        key: 'caozuo',\r\n        render: (text, record, index) => {\r\n          console.log(record);\r\n          switch (record.state) {\r\n            case 1:\r\n              return (\r\n                <Button onClick={this.updateState.bind(this, record.id, 0)}>解冻</Button>\r\n              )\r\n              break;\r\n            case 0:\r\n              return (\r\n                <Button onClick={this.updateState.bind(this, record.id, 1)}>冻结</Button>\r\n              )\r\n              break;\r\n            default:\r\n              return \"未知\"\r\n          }\r\n\r\n\r\n        }\r\n      }];\r\n    const data = [\r\n      {\r\n        title: 'Ant Design Title 1',\r\n      },\r\n      {\r\n        title: 'Ant Design Title 2',\r\n      },\r\n      {\r\n        title: 'Ant Design Title 3',\r\n      },\r\n      {\r\n        title: 'Ant Design Title 4',\r\n      },\r\n    ];\r\n    return (\r\n      <div style={{ background: '#fff', height: '100%' }}>\r\n        {/* 添加、更新用户 */}\r\n        <Modal\r\n          visible={this.state.visible}\r\n          onOk={this.addUser}\r\n          onCancel={this.handleCancel}\r\n          closable={false}\r\n          destroyOnClose={true}\r\n          footer={[\r\n            <Button key=\"back\" onClick={this.handleCancel}>取消</Button>,\r\n            <Button key=\"submit\" type=\"primary\" loading={loading} onClick={this.addUser}>\r\n              提交\r\n            </Button>,\r\n          ]}\r\n        >\r\n          <Form >\r\n            <Form.Item\r\n              label=\"账号\"\r\n              required\r\n              {...formItemLayout}\r\n              style={{ marginBottom: '0' }}\r\n            >\r\n              {getFieldDecorator('account', {\r\n                rules: [{ required: true, message: '请填写您的账号' }],\r\n              })(\r\n                <Input placeholder=\"请输入账号\" type=\"text\" />\r\n              )}\r\n            </Form.Item>\r\n            <Form.Item\r\n              label=\"角色\"\r\n              required\r\n              {...formItemLayout}\r\n              style={{ marginBottom: '0' }}\r\n            >\r\n              {getFieldDecorator('roleId', {\r\n                rules: [{ required: true, message: '请选择角色' }],\r\n              })(\r\n                <Select style={{ width: 120 }}>\r\n                  {\r\n                    roles.map((item, index) => {\r\n                      return (\r\n                        <Option value={item.value} key={index}>{item.label}</Option>\r\n                      )\r\n                    })\r\n                  }\r\n                </Select>\r\n              )}\r\n            </Form.Item>\r\n          </Form>\r\n        </Modal>\r\n        <Tabs tabPosition={this.state.tabPosition} tabBarGutter={10} animated style={{ height: '75vh', width: '100%' }}>\r\n          <TabPane tab=\"账号管理\" key=\"1\">\r\n            <div className=\"tabPane\">\r\n              <Row gutter={32} style={{ padding: '1rem  0 1rem 0' }}>\r\n                <Col span={12} style={{ paddingLeft: '0' }}>  <Search\r\n                  placeholder=\"账号、编号查询\"\r\n                  onSearch={(value) => {\r\n                    this.queryPage(0, this.state.pagination.pageSize, value)\r\n                    console.log(value);\r\n                  }}\r\n                  style={{ width: 200 }}\r\n                /></Col>\r\n                <Col span={11} style={{ textAlign: 'right', paddingRight: '0' }}><Button type=\"primary\" onClick={this.showModal}>添加</Button></Col>\r\n              </Row>\r\n              <Row gutter={32}>\r\n                <Table\r\n                  dataSource={tabData}\r\n                  columns={columns}\r\n                  pagination={this.state.pagination}\r\n                  loading={this.state.loading}\r\n                  style={{ marginRight: '24px' }}\r\n                />\r\n              </Row>\r\n            </div>\r\n          </TabPane>\r\n          <TabPane tab=\"菜单管理\" key=\"2\">\r\n            <Row>\r\n              <Col span={5} style={{ border: '1px solid red' }}>\r\n                <List\r\n                  itemLayout=\"horizontal\"\r\n                  dataSource={data}\r\n                  renderItem={item => (\r\n                    <List.Item>\r\n                      <List.Item.Meta\r\n                        avatar={<Avatar src=\"https://zos.alipayobjects.com/rmsportal/ODTLcjxAfvqbxHnVXCYX.png\" />}\r\n                        title={<a href=\"https://ant.design\">{item.title}</a>}\r\n                        description=\"Ant Design, a design language for background applications, is refined by Ant UED Team\"\r\n                      />\r\n                    </List.Item>\r\n                  )} />\r\n              </Col>\r\n            </Row>\r\n          </TabPane>\r\n          <TabPane tab=\"功能权限\" key=\"3\">\r\n\r\n          </TabPane>\r\n        </Tabs>\r\n      </div >\r\n    )\r\n  }\r\n}\r\nexport default Form.create()(rbac);"]},"metadata":{},"sourceType":"module"}