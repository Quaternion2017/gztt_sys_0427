{"ast":null,"code":"import _defineProperty from \"C:\\\\Users\\\\Administrator\\\\Desktop\\\\3.\\u516C\\u53F8\\u9879\\u76EE\\\\4.\\u5149\\u5B50\\u5934\\u6761\\\\gztt_sys\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/defineProperty\";\nimport _classCallCheck from \"C:\\\\Users\\\\Administrator\\\\Desktop\\\\3.\\u516C\\u53F8\\u9879\\u76EE\\\\4.\\u5149\\u5B50\\u5934\\u6761\\\\gztt_sys\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"C:\\\\Users\\\\Administrator\\\\Desktop\\\\3.\\u516C\\u53F8\\u9879\\u76EE\\\\4.\\u5149\\u5B50\\u5934\\u6761\\\\gztt_sys\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"C:\\\\Users\\\\Administrator\\\\Desktop\\\\3.\\u516C\\u53F8\\u9879\\u76EE\\\\4.\\u5149\\u5B50\\u5934\\u6761\\\\gztt_sys\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"C:\\\\Users\\\\Administrator\\\\Desktop\\\\3.\\u516C\\u53F8\\u9879\\u76EE\\\\4.\\u5149\\u5B50\\u5934\\u6761\\\\gztt_sys\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"C:\\\\Users\\\\Administrator\\\\Desktop\\\\3.\\u516C\\u53F8\\u9879\\u76EE\\\\4.\\u5149\\u5B50\\u5934\\u6761\\\\gztt_sys\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";\nimport _assertThisInitialized from \"C:\\\\Users\\\\Administrator\\\\Desktop\\\\3.\\u516C\\u53F8\\u9879\\u76EE\\\\4.\\u5149\\u5B50\\u5934\\u6761\\\\gztt_sys\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/assertThisInitialized\";\nvar _jsxFileName = \"C:\\\\Users\\\\Administrator\\\\Desktop\\\\3.\\u516C\\u53F8\\u9879\\u76EE\\\\4.\\u5149\\u5B50\\u5934\\u6761\\\\gztt_sys\\\\src\\\\pages\\\\rbac\\\\rbac.js\";\nimport React, { Component } from 'react';\nimport { Tabs, Select, Table, Row, Col, Button, Input, Modal, Form, Badge, List, Icon, Cascader, message, Switch } from 'antd';\nimport './rbac.less';\nimport province from '../../mock/geographic/province.json';\nimport city from '../../mock/geographic/city.json';\nimport district from '../../mock/geographic/district.json';\nimport apiRequest from '../../servers/api/apiRequest';\nvar Search = Input.Search;\nvar TabPane = Tabs.TabPane;\nvar Option = Select.Option;\nvar formItemLayout2 = {\n  labelCol: {\n    span: 4\n  },\n  wrapperCol: {\n    span: 12\n  }\n};\nvar TextArea = Input.TextArea;\n\nvar rbac =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(rbac, _Component);\n\n  function rbac(props) {\n    var _this;\n\n    _classCallCheck(this, rbac);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(rbac).call(this, props));\n    _this.state = {\n      tabPosition: 'left',\n      accountData: [],\n      pagination: {\n        total: 0,\n        pageSize: 5\n      },\n      current: 0,\n      visible: false,\n      tabData: [],\n      roles: [],\n      menus: []\n    };\n\n    _this.updateState = function (id, state) {\n      //更改账号状态\n      var promise = apiRequest.all(\"updateState\", id + \"/\" + state, null, \"服务器繁忙请稍后重试！\");\n\n      var thic = _assertThisInitialized(_assertThisInitialized(_this));\n\n      promise.then(function (value) {\n        if (value.code === 1) {\n          thic.queryPage(thic.state.current, thic.state.pagination.pageSize);\n        }\n      });\n    };\n\n    _this.queryPage = function (current, size, name) {\n      //分页查询数据\n      var promise = apiRequest.all(\"adminQueryPage\", current + \"/\" + size + (name != undefined ? \"?name=\" + name : \"\"), null, \"服务器繁忙请稍后重试！\");\n\n      var thic = _assertThisInitialized(_assertThisInitialized(_this));\n\n      promise.then(function (value) {\n        if (value.code === 1) {\n          var pagination = thic.state.pagination;\n          pagination.total = value.data.count;\n          pagination.onChange = thic.paging.bind(this);\n          thic.setState({\n            tabData: value.data.data,\n            pagination: thic.state.pagination\n          });\n        }\n      });\n    };\n\n    _this.selectRoleAll = function () {\n      var promise = apiRequest.all(\"queryAllRole\", null, null, \"服务器繁忙请稍后重试！\");\n\n      var thic = _assertThisInitialized(_assertThisInitialized(_this));\n\n      promise.then(function (value) {\n        if (value.code === 1) {\n          thic.setState({\n            roleDatas: value.data\n          });\n        }\n      });\n    };\n\n    _this.showModal2 = function (roleObj) {\n      //角色添加框\n      _this.setState({\n        visible2: true,\n        roleObj: roleObj\n      });\n    };\n\n    _this.paging = function (page, pageSize) {\n      _this.queryPage((page - 1) * 10, pageSize);\n    };\n\n    _this.handleCancel = function (e) {\n      _this.setState({\n        visible: false\n      });\n    };\n\n    _this.handleCancel2 = function (e) {\n      _this.setState({\n        visible2: false\n      });\n    };\n\n    _this.handleCancel3 = function (e) {\n      _this.setState({\n        visible3: false\n      });\n    };\n\n    _this.handleSelectChange = function (value) {\n      _this.props.form.setFieldsValue({\n        note: \"Hi, \".concat(value === 'male' ? 'man' : 'lady', \"!\")\n      });\n    };\n\n    _this.showModal = function () {\n      _this.setState({\n        visible: true\n      });\n    };\n\n    _this.showModal3 = function () {\n      var current = _this.state.current;\n\n      _this.queryMenuAll(\"\", current, _this.state.pagination.pageSize);\n    };\n\n    _this.removeRole = function (id, index) {\n      //删除角色\n      var promise = apiRequest.all(\"removeRole\", id, \"删除成功\", \"服务器繁忙请稍后重试！\");\n\n      var thic = _assertThisInitialized(_assertThisInitialized(_this));\n\n      promise.then(function (value) {\n        if (value.code === 1) {\n          var roleDatas = thic.state.roleDatas;\n          roleDatas.splice(index, 1);\n          thic.setState({\n            roleDatas: roleDatas\n          });\n        }\n      });\n    };\n\n    _this.updateSh = function (e, checked) {\n      //更新菜单是否显示\n      console.log(checked);\n      console.log(e);\n      var data = {\n        id: e.id,\n        sh: checked ? 0 : 1\n      };\n      var promise = apiRequest.all(\"updateMenu\", data, \"更新成功\", \"服务器繁忙请稍后重试！\");\n\n      var thic = _assertThisInitialized(_assertThisInitialized(_this));\n\n      promise.then(function (value) {\n        if (value.code === 1) {\n          console.log(value);\n        }\n      });\n    };\n\n    _this.queryMenuAll = function (name, current, size) {\n      var promise = apiRequest.all(\"queryMenuPage\", current + \"/\" + size + \"?name=\" + name, null, \"服务器繁忙请稍后重试！\");\n\n      var thic = _assertThisInitialized(_assertThisInitialized(_this));\n\n      promise.then(function (value) {\n        if (value.code === 1) {\n          thic.setState({\n            menus: value.data\n          });\n        }\n      });\n    };\n\n    _this.loadingTab = function (e) {\n      switch (parseInt(e)) {\n        case 1:\n          var current = _this.state.current;\n\n          _this.queryPage(current, _this.state.pagination.pageSize);\n\n          break;\n\n        case 2:\n          _this.queryMenuAll(null, _this.state.current, _this.state.pagination.pageSize);\n\n          break;\n\n        case 3:\n          _this.selectRoleAll();\n\n          break;\n\n        default:\n          break;\n      }\n    };\n\n    return _this;\n  }\n\n  _createClass(rbac, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var current = this.state.current;\n      this.queryPage(current, this.state.pagination.pageSize);\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      var _this$state = this.state,\n          tabData = _this$state.tabData,\n          pagination = _this$state.pagination,\n          roleDatas = _this$state.roleDatas,\n          roleObj = _this$state.roleObj,\n          visible3 = _this$state.visible3,\n          menus = _this$state.menus;\n      var columns = [{\n        title: '编号',\n        dataIndex: 'id',\n        key: 'id',\n        render: function render(text, record, index) {\n          return index + 1;\n        }\n      }, {\n        title: '账号',\n        dataIndex: 'account',\n        key: 'account'\n      }, {\n        title: '角色',\n        dataIndex: 'role',\n        key: 'role'\n      }, {\n        title: '创建时间',\n        dataIndex: 'createTime',\n        key: 'createTime',\n        render: function render(text, record, index) {\n          return new Date(text).toLocaleString();\n        }\n      }, {\n        title: '状态',\n        dataIndex: 'state',\n        key: 'state',\n        render: function render(text, record, index) {\n          switch (text) {\n            case 0:\n              return React.createElement(\"span\", {\n                style: {\n                  color: '#52c41a'\n                },\n                __source: {\n                  fileName: _jsxFileName,\n                  lineNumber: 217\n                },\n                __self: this\n              }, React.createElement(Badge, {\n                status: \"success\",\n                __source: {\n                  fileName: _jsxFileName,\n                  lineNumber: 217\n                },\n                __self: this\n              }), \"\\u6B63\\u5E38\");\n              break;\n\n            case 1:\n              return React.createElement(\"span\", {\n                style: {\n                  color: 'red'\n                },\n                __source: {\n                  fileName: _jsxFileName,\n                  lineNumber: 222\n                },\n                __self: this\n              }, React.createElement(Badge, {\n                status: \"error\",\n                __source: {\n                  fileName: _jsxFileName,\n                  lineNumber: 222\n                },\n                __self: this\n              }), \"\\u51BB\\u7ED3\");\n              break;\n\n            default:\n              return \"未知\";\n          }\n        }\n      }, {\n        title: '最近登录时间',\n        dataIndex: 'lastTime',\n        key: 'lastTime',\n        render: function render(text, record, index) {\n          if (text != null && text.length > 0) {\n            return new Date(text).toLocaleString();\n          }\n        }\n      }, {\n        title: '操作',\n        dataIndex: 'id',\n        key: 'caozuo',\n        render: function render(text, record, index) {\n          switch (record.state) {\n            case 1:\n              return React.createElement(Button, {\n                onClick: _this2.updateState.bind(_this2, record.id, 0),\n                __source: {\n                  fileName: _jsxFileName,\n                  lineNumber: 246\n                },\n                __self: this\n              }, \"\\u89E3\\u51BB\");\n              break;\n\n            case 0:\n              return React.createElement(Button, {\n                onClick: _this2.updateState.bind(_this2, record.id, 1),\n                __source: {\n                  fileName: _jsxFileName,\n                  lineNumber: 251\n                },\n                __self: this\n              }, \"\\u51BB\\u7ED3\");\n              break;\n\n            default:\n              return \"未知\";\n          }\n        }\n      }];\n      var rowSelection = {\n        onChange: function onChange(selectedRowKeys, selectedRows) {\n          console.log(\"selectedRowKeys: \".concat(selectedRowKeys), 'selectedRows: ', selectedRows);\n        },\n        onSelect: function onSelect(record, selected, selectedRows) {\n          console.log(record, selected, selectedRows);\n        }\n      };\n      var columns2 = [{\n        title: '菜单名称',\n        dataIndex: 'name',\n        key: 'name'\n      }, {\n        title: '访问路径',\n        dataIndex: 'url',\n        key: 'url',\n        width: '12%'\n      }, {\n        title: '模块',\n        dataIndex: 'module',\n        width: '30%',\n        key: 'module'\n      }, {\n        title: '是否显示',\n        key: 'sH',\n        render: function render(text) {\n          return React.createElement(Switch, {\n            checkedChildren: \"\\u663E\\u793A\",\n            unCheckedChildren: \"\\u9690\\u85CF\",\n            defaultChecked: true,\n            onClick: _this2.updateSh.bind(_this2, text),\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 288\n            },\n            __self: this\n          });\n        }\n      }, {\n        title: '操作',\n        width: '30%',\n        key: 'id',\n        render: function render() {\n          return React.createElement(\"div\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 296\n            },\n            __self: this\n          }, React.createElement(Button, {\n            icon: \"edit\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 297\n            },\n            __self: this\n          }, \"\\u4FEE\\u6539\"), React.createElement(Button, {\n            icon: \"delete\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 298\n            },\n            __self: this\n          }, \"\\u5220\\u9664\"));\n        }\n      }];\n      return React.createElement(\"div\", {\n        style: {\n          background: '#fff',\n          height: '100%'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 306\n        },\n        __self: this\n      }, React.createElement(Modal, {\n        visible: this.state.visible,\n        closable: false,\n        destroyOnClose: true,\n        footer: null,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 308\n        },\n        __self: this\n      }, React.createElement(AddUserFrom, {\n        handleCancel: this.handleCancel.bind(this),\n        queryPage: this.queryPage.bind(this),\n        size: pagination.pageSize,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 314\n        },\n        __self: this\n      })), React.createElement(Tabs, {\n        tabPosition: this.state.tabPosition,\n        tabBarGutter: 10,\n        animated: true,\n        style: {\n          height: '75vh',\n          width: '100%'\n        },\n        onChange: this.loadingTab.bind(this),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 316\n        },\n        __self: this\n      }, React.createElement(TabPane, {\n        tab: \"\\u8D26\\u53F7\\u7BA1\\u7406\",\n        key: \"1\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 317\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"tabPane\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 318\n        },\n        __self: this\n      }, React.createElement(Row, {\n        gutter: 32,\n        style: {\n          padding: '1rem  0 1rem 0'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 319\n        },\n        __self: this\n      }, React.createElement(Col, {\n        span: 12,\n        style: {\n          paddingLeft: '0'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 320\n        },\n        __self: this\n      }, \"  \", React.createElement(Search, {\n        placeholder: \"\\u8D26\\u53F7\\u3001\\u7F16\\u53F7\\u67E5\\u8BE2\",\n        onSearch: function onSearch(value) {\n          _this2.queryPage(0, _this2.state.pagination.pageSize, value);\n        },\n        style: {\n          width: 200\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 320\n        },\n        __self: this\n      })), React.createElement(Col, {\n        span: 11,\n        style: {\n          textAlign: 'right',\n          paddingRight: '0'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 327\n        },\n        __self: this\n      }, React.createElement(Button, {\n        type: \"primary\",\n        onClick: this.showModal,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 327\n        },\n        __self: this\n      }, \"\\u6DFB\\u52A0\"))), React.createElement(Row, {\n        gutter: 32,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 329\n        },\n        __self: this\n      }, React.createElement(Table, {\n        dataSource: tabData,\n        columns: columns,\n        pagination: this.state.pagination,\n        loading: this.state.loading,\n        style: {\n          marginRight: '24px'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 330\n        },\n        __self: this\n      })))), React.createElement(TabPane, {\n        tab: \"\\u83DC\\u5355\\u7BA1\\u7406\",\n        key: \"2\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 340\n        },\n        __self: this\n      }, React.createElement(Modal, {\n        visible: visible3,\n        closable: false,\n        destroyOnClose: true,\n        footer: null,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 342\n        },\n        __self: this\n      }, React.createElement(AddMenuFrom, {\n        menus: menus,\n        handleCancel: this.handleCancel3.bind(this),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 348\n        },\n        __self: this\n      })), React.createElement(Row, {\n        gutter: 32,\n        style: {\n          padding: '1rem  0 1rem 0'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 350\n        },\n        __self: this\n      }, React.createElement(Col, {\n        span: 12,\n        style: {\n          paddingLeft: '0'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 351\n        },\n        __self: this\n      }, \"  \", React.createElement(Search, {\n        placeholder: \"\\u540D\\u79F0\\u3001\\u6A21\\u5757\\u67E5\\u8BE2\",\n        onSearch: function onSearch(value) {\n          _this2.queryPage(0, _this2.state.pagination.pageSize, value);\n        },\n        style: {\n          width: 200\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 351\n        },\n        __self: this\n      })), React.createElement(Col, {\n        span: 11,\n        style: {\n          textAlign: 'right',\n          paddingRight: '0'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 358\n        },\n        __self: this\n      }, React.createElement(Button, {\n        type: \"primary\",\n        onClick: this.showModal3,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 358\n        },\n        __self: this\n      }, \"\\u6DFB\\u52A0\\u83DC\\u5355\"))), React.createElement(Row, {\n        gutter: 32,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 360\n        },\n        __self: this\n      }, React.createElement(Table, {\n        columns: columns2,\n        dataSource: menus,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 361\n        },\n        __self: this\n      }))), React.createElement(TabPane, {\n        tab: \"\\u529F\\u80FD\\u6743\\u9650\",\n        key: \"3\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 364\n        },\n        __self: this\n      }, React.createElement(Row, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 365\n        },\n        __self: this\n      }, React.createElement(Col, {\n        span: 5,\n        style: {\n          height: '75vh',\n          overflowY: 'auto',\n          overflowX: 'hidden'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 366\n        },\n        __self: this\n      }, React.createElement(Modal, {\n        visible: this.state.visible2,\n        onOk: this.addUser,\n        onCancel: this.handleCancel2,\n        closable: false,\n        destroyOnClose: true,\n        footer: null,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 368\n        },\n        __self: this\n      }, React.createElement(AddRoleFrom, {\n        handleCancel: this.handleCancel2.bind(this),\n        selectRoleAll: this.selectRoleAll,\n        roleObj: roleObj,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 376\n        },\n        __self: this\n      })), React.createElement(List, {\n        itemLayout: \"horizontal\",\n        dataSource: roleDatas,\n        bordered: true,\n        renderItem: function renderItem(item, index) {\n          return React.createElement(List.Item, {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 383\n            },\n            __self: this\n          }, React.createElement(List.Item.Meta, {\n            style: {\n              width: '60px',\n              overflow: 'hidden'\n            },\n            title: React.createElement(\"a\", {\n              href: \"https://ant.design\",\n              style: {\n                overflow: 'hidden'\n              },\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 385\n              },\n              __self: this\n            }, item.name),\n            description: item.desc,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 384\n            },\n            __self: this\n          }), React.createElement(\"div\", {\n            className: \"operation\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 389\n            },\n            __self: this\n          }, React.createElement(Icon, {\n            type: \"edit\",\n            style: {\n              marginRight: '1rem',\n              marginLeft: '0.5rem'\n            },\n            onClick: _this2.showModal2.bind(_this2, item),\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 390\n            },\n            __self: this\n          }), React.createElement(Icon, {\n            type: \"delete\",\n            onClick: _this2.removeRole.bind(_this2, item.id, index),\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 391\n            },\n            __self: this\n          })));\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 378\n        },\n        __self: this\n      }, React.createElement(Button, {\n        type: \"dashed\",\n        block: true,\n        style: _defineProperty({\n          position: 'absolute',\n          bottom: '0',\n          height: '3rem'\n        }, \"bottom\", '-2'),\n        onClick: this.showModal2.bind(this),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 396\n        },\n        __self: this\n      }, React.createElement(Icon, {\n        type: \"plus\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 396\n        },\n        __self: this\n      }), \"\\u6DFB\\u52A0\\u89D2\\u8272\"))), React.createElement(Col, {\n        span: 18,\n        offset: 1,\n        style: {\n          border: '1px solid #d9d9d9',\n          height: '75vh'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 399\n        },\n        __self: this\n      })))));\n    }\n  }]);\n\n  return rbac;\n}(Component);\n\nexport { rbac as default };\n\nvar AddRole =\n/*#__PURE__*/\nfunction (_Component2) {\n  _inherits(AddRole, _Component2);\n\n  function AddRole(props) {\n    var _this3;\n\n    _classCallCheck(this, AddRole);\n\n    _this3 = _possibleConstructorReturn(this, _getPrototypeOf(AddRole).call(this, props));\n\n    _this3.addRole = function (e) {\n      //添加 || 更新 角色\n      _this3.setState({\n        loading: true\n      });\n\n      e.preventDefault();\n\n      _this3.props.form.validateFields(function (err, values) {\n        if (!err) {\n          var id = _this3.props.roleObj.id;\n\n          if (id != undefined) {\n            values.id = id;\n          }\n\n          var promise = apiRequest.all(\"addRole\", values, \"更新成功\", \"服务器繁忙请稍后重试！\");\n\n          var thic = _assertThisInitialized(_assertThisInitialized(_this3));\n\n          promise.then(function (value) {\n            if (value.code === 1) {\n              thic.setState({\n                loading: false\n              });\n              thic.props.handleCancel();\n              thic.props.selectRoleAll();\n            }\n          });\n        }\n      });\n    };\n\n    _this3.state = {\n      loading: false\n    };\n    return _this3;\n  }\n\n  _createClass(AddRole, [{\n    key: \"render\",\n    value: function render() {\n      var formItemLayout = {\n        labelCol: {\n          span: 4\n        },\n        wrapperCol: {\n          span: 10\n        }\n      };\n      var loading = this.state.loading;\n      var getFieldDecorator = this.props.form.getFieldDecorator;\n      var roleObj = this.props.roleObj;\n      console.log(roleObj);\n      return React.createElement(Form, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 457\n        },\n        __self: this\n      }, React.createElement(Form.Item, Object.assign({\n        label: \"\\u89D2\\u8272\\u540D\\u79F0\",\n        required: true\n      }, formItemLayout, {\n        style: {\n          marginBottom: '0'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 458\n        },\n        __self: this\n      }), getFieldDecorator('name', {\n        rules: [{\n          required: true,\n          message: '请填写角色名称'\n        }],\n        initialValue: roleObj.name === undefined ? '' : roleObj.name\n      })(React.createElement(Input, {\n        name: \"name\",\n        placeholder: \"\\u8BF7\\u8F93\\u5165\\u89D2\\u8272\\u540D\\u79F0\",\n        type: \"text\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 468\n        },\n        __self: this\n      }))), React.createElement(Form.Item, Object.assign({\n        label: \"\\u63CF\\u8FF0\",\n        required: false\n      }, formItemLayout, {\n        style: {\n          marginBottom: '0'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 471\n        },\n        __self: this\n      }), getFieldDecorator('desc', {\n        rules: [{\n          required: false\n        }],\n        initialValue: roleObj.desc === undefined ? '' : roleObj.desc\n      })(React.createElement(Input, {\n        placeholder: \"\\u8BF7\\u8F93\\u5165\\u89D2\\u8272\\u63CF\\u8FF0\",\n        type: \"text\",\n        maxLength: 50,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 481\n        },\n        __self: this\n      }))), React.createElement(\"div\", {\n        style: {\n          width: '100%',\n          textAlign: 'center',\n          marginTop: '1rem'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 485\n        },\n        __self: this\n      }, React.createElement(Button, {\n        key: \"back\",\n        onClick: this.props.handleCancel,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 486\n        },\n        __self: this\n      }, \"\\u53D6\\u6D88\"), React.createElement(Button, {\n        key: \"submit\",\n        type: \"primary\",\n        loading: loading,\n        onClick: this.addRole,\n        style: {\n          marginLeft: '10px'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 487\n        },\n        __self: this\n      }, \"\\u63D0\\u4EA4\")));\n    }\n  }]);\n\n  return AddRole;\n}(Component);\n\nvar AddUser =\n/*#__PURE__*/\nfunction (_Component3) {\n  _inherits(AddUser, _Component3);\n\n  function AddUser(props) {\n    var _this4;\n\n    _classCallCheck(this, AddUser);\n\n    _this4 = _possibleConstructorReturn(this, _getPrototypeOf(AddUser).call(this, props));\n\n    _this4.getRole = function () {\n      var roles = [{\n        label: \"代理商\",\n        value: 1\n      }, {\n        label: \"企业用户\",\n        value: 2\n      }];\n\n      _this4.setState({\n        roles: roles\n      });\n    };\n\n    _this4.addUser = function (e) {\n      //添加用户\n      e.preventDefault();\n\n      _this4.setState({\n        loading: true\n      });\n\n      _this4.props.form.validateFields(function (err, values) {\n        if (!err) {\n          var data = {\n            account: values.account,\n            roleid: values.roleId\n          };\n\n          var thic = _assertThisInitialized(_assertThisInitialized(_this4));\n\n          var promise = apiRequest.all(\"saveAdmin\", data, \"添加成功\", null);\n          promise.then(function (value) {\n            if (value.code === 1) {\n              thic.props.queryPage(0, thic.props.size);\n              thic.props.handleCancel();\n            }\n\n            thic.setState({\n              loading: false\n            });\n          });\n        }\n      });\n    };\n\n    _this4.state = {\n      roles: [],\n      loading: false\n    };\n    return _this4;\n  }\n\n  _createClass(AddUser, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.getRole();\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var formItemLayout = {\n        labelCol: {\n          span: 4\n        },\n        wrapperCol: {\n          span: 10\n        }\n      };\n      var _this$state2 = this.state,\n          roles = _this$state2.roles,\n          loading = _this$state2.loading;\n      var getFieldDecorator = this.props.form.getFieldDecorator;\n      return React.createElement(Form, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 553\n        },\n        __self: this\n      }, React.createElement(Form.Item, Object.assign({\n        label: \"\\u8D26\\u53F7\",\n        required: true\n      }, formItemLayout, {\n        style: {\n          marginBottom: '0'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 554\n        },\n        __self: this\n      }), getFieldDecorator('account', {\n        rules: [{\n          required: true,\n          message: '请填写您的账号'\n        }]\n      })(React.createElement(Input, {\n        placeholder: \"\\u8BF7\\u8F93\\u5165\\u8D26\\u53F7\",\n        type: \"text\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 563\n        },\n        __self: this\n      }))), React.createElement(Form.Item, Object.assign({\n        label: \"\\u89D2\\u8272\",\n        required: true\n      }, formItemLayout, {\n        style: {\n          marginBottom: '0'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 566\n        },\n        __self: this\n      }), getFieldDecorator('roleId', {\n        rules: [{\n          required: true,\n          message: '请选择角色'\n        }]\n      })(React.createElement(Select, {\n        style: {\n          width: 120\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 575\n        },\n        __self: this\n      }, roles.map(function (item, index) {\n        return React.createElement(Option, {\n          value: item.value,\n          key: index,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 579\n          },\n          __self: this\n        }, item.label);\n      })))), React.createElement(\"div\", {\n        style: {\n          width: '100%',\n          textAlign: 'center',\n          marginTop: '1rem'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 586\n        },\n        __self: this\n      }, React.createElement(Button, {\n        key: \"back\",\n        onClick: this.props.handleCancel,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 587\n        },\n        __self: this\n      }, \"\\u53D6\\u6D88\"), React.createElement(Button, {\n        key: \"submit\",\n        type: \"primary\",\n        loading: loading,\n        onClick: this.addUser,\n        style: {\n          marginLeft: '10px'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 588\n        },\n        __self: this\n      }, \"\\u63D0\\u4EA4\")));\n    }\n  }]);\n\n  return AddUser;\n}(Component);\n\nvar AddMenu =\n/*#__PURE__*/\nfunction (_Component4) {\n  _inherits(AddMenu, _Component4);\n\n  function AddMenu() {\n    var _getPrototypeOf2;\n\n    var _this5;\n\n    _classCallCheck(this, AddMenu);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this5 = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(AddMenu)).call.apply(_getPrototypeOf2, [this].concat(args)));\n    _this5.state = {\n      menus: []\n    };\n\n    _this5.addOrUpdate = function (e) {\n      e.preventDefault();\n\n      _this5.props.form.validateFields(function (err, values) {\n        console.log(values);\n\n        if (!err) {\n          if (values.model != undefined || values.url != undefined) {\n            var data = {\n              name: values.name,\n              parentId: values.parentId[values.parentId.length - 1],\n              url: values.url == undefined ? \"\" : values.url,\n              module: values.model == undefined ? \"\" : values.model\n            };\n            var promise = apiRequest.all(\"updateMenu\", data, \"更新成功\", null);\n\n            var thic = _assertThisInitialized(_assertThisInitialized(_this5));\n\n            promise.then(function (value) {\n              if (value.code === 1) {\n                // thic.props.queryPage(0, thic.props.size);\n                thic.props.handleCancel();\n              }\n\n              thic.setState({\n                loading: false\n              });\n            });\n          } else {\n            message.warning(\"访问地址或组件名称不能为空！\", 3);\n          }\n        }\n      });\n    };\n\n    _this5.getParents = function () {\n      var menus = _this5.props.menus;\n      var options = [{\n        value: 0,\n        label: '一级菜单',\n        children: null\n      }];\n\n      for (var i = 0; i < menus.length; i++) {\n        var obj = menus[i];\n        var option = {\n          value: obj.id,\n          label: obj.name,\n          children: _this5.formatting(obj.children)\n        };\n        options.push(option);\n      }\n\n      console.log(menus);\n\n      _this5.setState({\n        menus: options\n      });\n    };\n\n    _this5.formatting = function (children) {\n      //格式化数据\n      var options = [];\n\n      for (var i = 0; i < children.length; i++) {\n        var obj = children[i];\n        var option = {\n          value: obj.id,\n          label: obj.name,\n          children: _this5.formatting(obj.children)\n        };\n        options.push(option);\n      }\n\n      return options;\n    };\n\n    return _this5;\n  }\n\n  _createClass(AddMenu, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.getParents();\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var getFieldDecorator = this.props.form.getFieldDecorator;\n      var formItemLayout = {\n        labelCol: {\n          span: 4\n        },\n        wrapperCol: {\n          span: 12\n        }\n      };\n      var selectBefore = React.createElement(Select, {\n        defaultValue: \"Http://\",\n        style: {\n          width: 90\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 679\n        },\n        __self: this\n      }, React.createElement(Option, {\n        value: \"Http://\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 680\n        },\n        __self: this\n      }, \"Http://\"), React.createElement(Option, {\n        value: \"Https://\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 681\n        },\n        __self: this\n      }, \"Https://\"));\n      return React.createElement(Form, Object.assign({}, formItemLayout, {\n        onSubmit: this.addOrUpdate,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 685\n        },\n        __self: this\n      }), React.createElement(Form.Item, {\n        label: \"\\u83DC\\u5355\\u540D\\u79F0\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 686\n        },\n        __self: this\n      }, getFieldDecorator('name', {\n        rules: [{\n          required: true,\n          message: '请填写菜单名称'\n        }]\n      })(React.createElement(Input, {\n        placeholder: \"\\u8BF7\\u586B\\u5199\\u83DC\\u5355\\u540D\\u79F0\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 694\n        },\n        __self: this\n      }))), React.createElement(Form.Item, {\n        label: \"\\u9009\\u62E9\\u7EA7\\u522B\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 698\n        },\n        __self: this\n      }, getFieldDecorator('parentId', {\n        rules: [{\n          required: true,\n          message: '请选择菜单级别'\n        }]\n      })(React.createElement(Cascader, {\n        options: this.state.menus,\n        placeholder: \"\\u8BF7\\u9009\\u62E9\\u83DC\\u5355\\u7EA7\\u522B\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 704\n        },\n        __self: this\n      }))), React.createElement(Form.Item, {\n        label: \"\\u8BBF\\u95EE\\u8DEF\\u5F84\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 707\n        },\n        __self: this\n      }, getFieldDecorator('url', {\n        rules: [{\n          required: false,\n          message: ''\n        }]\n      })(React.createElement(Input, {\n        addonBefore: selectBefore,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 713\n        },\n        __self: this\n      }))), React.createElement(Form.Item, {\n        label: \"\\u7EC4\\u4EF6\\u540D\\u79F0\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 716\n        },\n        __self: this\n      }, getFieldDecorator('model', {\n        rules: [{\n          required: false,\n          message: ''\n        }]\n      })(React.createElement(Input, {\n        placeholder: \"\\u8BF7\\u8F93\\u5165\\u7EC4\\u4EF6\\u540D\\u79F0\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 722\n        },\n        __self: this\n      }))), React.createElement(Form.Item, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 725\n        },\n        __self: this\n      }, React.createElement(Button, {\n        type: \"primary\",\n        htmlType: \"submit\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 726\n        },\n        __self: this\n      }, \"\\u63D0\\u4EA4\")));\n    }\n  }]);\n\n  return AddMenu;\n}(Component);\n\nvar AddMenuFrom = Form.create()(AddMenu);\nvar AddUserFrom = Form.create()(AddUser);\nvar AddRoleFrom = Form.create()(AddRole);","map":{"version":3,"sources":["C:\\Users\\Administrator\\Desktop\\3.公司项目\\4.光子头条\\gztt_sys\\src\\pages\\rbac\\rbac.js"],"names":["React","Component","Tabs","Select","Table","Row","Col","Button","Input","Modal","Form","Badge","List","Icon","Cascader","message","Switch","province","city","district","apiRequest","Search","TabPane","Option","formItemLayout2","labelCol","span","wrapperCol","TextArea","rbac","props","state","tabPosition","accountData","pagination","total","pageSize","current","visible","tabData","roles","menus","updateState","id","promise","all","thic","then","value","code","queryPage","size","name","undefined","data","count","onChange","paging","bind","setState","selectRoleAll","roleDatas","showModal2","roleObj","visible2","page","handleCancel","e","handleCancel2","handleCancel3","visible3","handleSelectChange","form","setFieldsValue","note","showModal","showModal3","queryMenuAll","removeRole","index","splice","updateSh","checked","console","log","sh","loadingTab","parseInt","columns","title","dataIndex","key","render","text","record","Date","toLocaleString","color","length","rowSelection","selectedRowKeys","selectedRows","onSelect","selected","columns2","width","background","height","padding","paddingLeft","textAlign","paddingRight","loading","marginRight","overflowY","overflowX","addUser","item","overflow","desc","marginLeft","position","bottom","border","AddRole","addRole","preventDefault","validateFields","err","values","formItemLayout","getFieldDecorator","marginBottom","rules","required","initialValue","marginTop","AddUser","getRole","label","account","roleid","roleId","map","AddMenu","addOrUpdate","model","url","parentId","module","warning","getParents","options","children","i","obj","option","formatting","push","selectBefore","AddMenuFrom","create","AddUserFrom","AddRoleFrom"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\r\nimport { Tabs, Select, Table, Row, Col, Button, Input, Modal, Form, Badge, List, Icon, Cascader, message, Switch } from 'antd';\r\nimport './rbac.less';\r\nimport province from '../../mock/geographic/province.json';\r\nimport city from '../../mock/geographic/city.json';\r\nimport district from '../../mock/geographic/district.json';\r\nimport apiRequest from '../../servers/api/apiRequest';\r\nconst Search = Input.Search;\r\nconst TabPane = Tabs.TabPane;\r\nconst Option = Select.Option;\r\n\r\n\r\nconst formItemLayout2 = {\r\n  labelCol: { span: 4 },\r\n  wrapperCol: { span: 12 },\r\n};\r\nconst { TextArea } = Input;\r\nexport default class rbac extends Component {\r\n  state = {\r\n    tabPosition: 'left',\r\n    accountData: [],\r\n    pagination: {\r\n      total: 0,\r\n      pageSize: 5\r\n    },\r\n    current: 0,\r\n    visible: false,\r\n    tabData: [],\r\n    roles: [],\r\n    menus: []\r\n  }\r\n\r\n  constructor(props) {\r\n    super(props);\r\n  }\r\n\r\n  componentDidMount() {\r\n    var { current } = this.state;\r\n    this.queryPage(current, this.state.pagination.pageSize);\r\n\r\n\r\n  }\r\n\r\n  updateState = (id, state) => {  //更改账号状态\r\n    let promise = apiRequest.all(\"updateState\", id + \"/\" + state, null, \"服务器繁忙请稍后重试！\");\r\n    var thic = this;\r\n    promise.then(function (value) {\r\n      if (value.code === 1) {\r\n        thic.queryPage(thic.state.current, thic.state.pagination.pageSize);\r\n      }\r\n    })\r\n  }\r\n  queryPage = (current, size, name) => { //分页查询数据\r\n    let promise = apiRequest.all(\"adminQueryPage\", current + \"/\" + size + (name != undefined ? \"?name=\" + name : \"\"), null, \"服务器繁忙请稍后重试！\");\r\n    var thic = this;\r\n    promise.then(function (value) {\r\n      if (value.code === 1) {\r\n        let pagination = thic.state.pagination;\r\n        pagination.total = value.data.count;\r\n        pagination.onChange = thic.paging.bind(this)\r\n        thic.setState({\r\n          tabData: value.data.data,\r\n          pagination: thic.state.pagination\r\n        });\r\n      }\r\n    })\r\n  }\r\n\r\n  selectRoleAll = () => {\r\n    let promise = apiRequest.all(\"queryAllRole\", null, null, \"服务器繁忙请稍后重试！\");\r\n    var thic = this;\r\n    promise.then(function (value) {\r\n      if (value.code === 1) {\r\n        thic.setState({\r\n          roleDatas: value.data\r\n        })\r\n      }\r\n    })\r\n  }\r\n\r\n  showModal2 = (roleObj) => { //角色添加框\r\n    this.setState({\r\n      visible2: true,\r\n      roleObj: roleObj\r\n    });\r\n  }\r\n\r\n\r\n  paging = (page, pageSize) => {\r\n    this.queryPage((page - 1) * 10, pageSize);\r\n  }\r\n\r\n  handleCancel = (e) => {\r\n    this.setState({\r\n      visible: false,\r\n    });\r\n  }\r\n\r\n  handleCancel2 = (e) => {\r\n    this.setState({\r\n      visible2: false,\r\n    });\r\n  }\r\n  handleCancel3 = (e) => {\r\n    this.setState({\r\n      visible3: false,\r\n    });\r\n  }\r\n  handleSelectChange = (value) => {\r\n    this.props.form.setFieldsValue({\r\n      note: `Hi, ${value === 'male' ? 'man' : 'lady'}!`,\r\n    });\r\n  }\r\n  showModal = () => {\r\n    this.setState({\r\n      visible: true\r\n    });\r\n  }\r\n  showModal3 = () => {\r\n    var { current } = this.state;\r\n    this.queryMenuAll(\"\", current, this.state.pagination.pageSize);\r\n  }\r\n  removeRole = (id, index) => { //删除角色\r\n    let promise = apiRequest.all(\"removeRole\", id, \"删除成功\", \"服务器繁忙请稍后重试！\");\r\n    var thic = this;\r\n    promise.then(function (value) {\r\n      if (value.code === 1) {\r\n        const { roleDatas } = thic.state;\r\n        roleDatas.splice(index, 1);\r\n        thic.setState({\r\n          roleDatas: roleDatas\r\n        })\r\n      }\r\n    })\r\n  }\r\n\r\n  updateSh = (e,checked) => { //更新菜单是否显示\r\n    console.log(checked);\r\n    console.log(e);\r\n    var data={\r\n      id:e.id,\r\n      sh:checked?0:1\r\n    }\r\n    let promise = apiRequest.all(\"updateMenu\", data, \"更新成功\", \"服务器繁忙请稍后重试！\");\r\n    var thic = this;\r\n    promise.then(function (value) {\r\n      if (value.code === 1) {\r\n        console.log(value);\r\n      }\r\n    })\r\n  }\r\n\r\n  queryMenuAll = (name, current, size) => {\r\n    let promise = apiRequest.all(\"queryMenuPage\", current + \"/\" + size + \"?name=\" + name, null, \"服务器繁忙请稍后重试！\");\r\n    var thic = this;\r\n\r\n    promise.then(function (value) {\r\n      if (value.code === 1) {\r\n        thic.setState({\r\n          menus: value.data\r\n        })\r\n      }\r\n    })\r\n  }\r\n\r\n  loadingTab = (e) => {\r\n    switch (parseInt(e)) {\r\n      case 1:\r\n        var { current } = this.state;\r\n        this.queryPage(current, this.state.pagination.pageSize);\r\n        break;\r\n      case 2:\r\n        this.queryMenuAll(null, this.state.current, this.state.pagination.pageSize);\r\n        break;\r\n      case 3:\r\n        this.selectRoleAll();\r\n        break;\r\n      default:\r\n        break;\r\n    }\r\n  }\r\n\r\n\r\n  render() {\r\n    const { tabData, pagination, roleDatas, roleObj, visible3, menus } = this.state;\r\n    const columns = [\r\n      {\r\n        title: '编号',\r\n        dataIndex: 'id',\r\n        key: 'id',\r\n        render: (text, record, index) => {\r\n          return index + 1;\r\n        }\r\n      }, {\r\n        title: '账号',\r\n        dataIndex: 'account',\r\n        key: 'account',\r\n      }, {\r\n        title: '角色',\r\n        dataIndex: 'role',\r\n        key: 'role',\r\n      }, {\r\n        title: '创建时间',\r\n        dataIndex: 'createTime',\r\n        key: 'createTime',\r\n        render: (text, record, index) => {\r\n          return new Date(text).toLocaleString();\r\n        }\r\n      }, {\r\n        title: '状态',\r\n        dataIndex: 'state',\r\n        key: 'state',\r\n        render: (text, record, index) => {\r\n          switch (text) {\r\n            case 0:\r\n              return (\r\n                <span style={{ color: '#52c41a' }}><Badge status=\"success\" />正常</span>\r\n              )\r\n              break;\r\n            case 1:\r\n              return (\r\n                <span style={{ color: 'red' }}><Badge status=\"error\" />冻结</span>\r\n              )\r\n              break;\r\n            default:\r\n              return \"未知\"\r\n          }\r\n        }\r\n      }, {\r\n        title: '最近登录时间',\r\n        dataIndex: 'lastTime',\r\n        key: 'lastTime',\r\n        render: (text, record, index) => {\r\n          if (text != null && text.length > 0) {\r\n            return new Date(text).toLocaleString();\r\n          }\r\n        }\r\n      }, {\r\n        title: '操作',\r\n        dataIndex: 'id',\r\n        key: 'caozuo',\r\n        render: (text, record, index) => {\r\n          switch (record.state) {\r\n            case 1:\r\n              return (\r\n                <Button onClick={this.updateState.bind(this, record.id, 0)}>解冻</Button>\r\n              )\r\n              break;\r\n            case 0:\r\n              return (\r\n                <Button onClick={this.updateState.bind(this, record.id, 1)}>冻结</Button>\r\n              )\r\n              break;\r\n            default:\r\n              return \"未知\"\r\n          }\r\n\r\n\r\n        }\r\n      }];\r\n    const rowSelection = {\r\n      onChange: (selectedRowKeys, selectedRows) => {\r\n        console.log(`selectedRowKeys: ${selectedRowKeys}`, 'selectedRows: ', selectedRows);\r\n      },\r\n      onSelect: (record, selected, selectedRows) => {\r\n        console.log(record, selected, selectedRows);\r\n      }\r\n    };\r\n\r\n    const columns2 = [{\r\n      title: '菜单名称',\r\n      dataIndex: 'name',\r\n      key: 'name',\r\n    }, {\r\n      title: '访问路径',\r\n      dataIndex: 'url',\r\n      key: 'url',\r\n      width: '12%',\r\n    }, {\r\n      title: '模块',\r\n      dataIndex: 'module',\r\n      width: '30%',\r\n      key: 'module',\r\n    }, {\r\n      title: '是否显示',\r\n      key: 'sH',\r\n      render: (text) => {\r\n        return (<Switch checkedChildren=\"显示\" unCheckedChildren=\"隐藏\" defaultChecked onClick={this.updateSh.bind(this,text)} />);\r\n      }\r\n    }, {\r\n      title: '操作',\r\n      width: '30%',\r\n      key: 'id',\r\n      render: () => {\r\n        return (\r\n          <div>\r\n            <Button icon=\"edit\">修改</Button>\r\n            <Button icon=\"delete\">删除</Button>\r\n          </div>\r\n        )\r\n      }\r\n    }];\r\n\r\n\r\n    return (\r\n      <div style={{ background: '#fff', height: '100%' }}>\r\n        {/* 添加、更新用户 */}\r\n        <Modal\r\n          visible={this.state.visible}\r\n          closable={false}\r\n          destroyOnClose={true}\r\n          footer={null}\r\n        >\r\n          <AddUserFrom handleCancel={this.handleCancel.bind(this)} queryPage={this.queryPage.bind(this)} size={pagination.pageSize}></AddUserFrom>\r\n        </Modal>\r\n        <Tabs tabPosition={this.state.tabPosition} tabBarGutter={10} animated style={{ height: '75vh', width: '100%' }} onChange={this.loadingTab.bind(this)}>\r\n          <TabPane tab=\"账号管理\" key=\"1\">\r\n            <div className=\"tabPane\">\r\n              <Row gutter={32} style={{ padding: '1rem  0 1rem 0' }}>\r\n                <Col span={12} style={{ paddingLeft: '0' }}>  <Search\r\n                  placeholder=\"账号、编号查询\"\r\n                  onSearch={(value) => {\r\n                    this.queryPage(0, this.state.pagination.pageSize, value)\r\n                  }}\r\n                  style={{ width: 200 }}\r\n                /></Col>\r\n                <Col span={11} style={{ textAlign: 'right', paddingRight: '0' }}><Button type=\"primary\" onClick={this.showModal}>添加</Button></Col>\r\n              </Row>\r\n              <Row gutter={32}>\r\n                <Table\r\n                  dataSource={tabData}\r\n                  columns={columns}\r\n                  pagination={this.state.pagination}\r\n                  loading={this.state.loading}\r\n                  style={{ marginRight: '24px' }}\r\n                />\r\n              </Row>\r\n            </div>\r\n          </TabPane>\r\n          <TabPane tab=\"菜单管理\" key=\"2\">\r\n            {/* 添加、更新菜单 */}\r\n            <Modal\r\n              visible={visible3}\r\n              closable={false}\r\n              destroyOnClose={true}\r\n              footer={null}\r\n            >\r\n              <AddMenuFrom menus={menus} handleCancel={this.handleCancel3.bind(this)}></AddMenuFrom>\r\n            </Modal>\r\n            <Row gutter={32} style={{ padding: '1rem  0 1rem 0' }}>\r\n              <Col span={12} style={{ paddingLeft: '0' }}>  <Search\r\n                placeholder=\"名称、模块查询\"\r\n                onSearch={(value) => {\r\n                  this.queryPage(0, this.state.pagination.pageSize, value)\r\n                }}\r\n                style={{ width: 200 }}\r\n              /></Col>\r\n              <Col span={11} style={{ textAlign: 'right', paddingRight: '0' }}><Button type=\"primary\" onClick={this.showModal3}>添加菜单</Button></Col>\r\n            </Row>\r\n            <Row gutter={32}>\r\n              <Table columns={columns2} dataSource={menus} />\r\n            </Row>\r\n          </TabPane>\r\n          <TabPane tab=\"功能权限\" key=\"3\">\r\n            <Row>\r\n              <Col span={5} style={{ height: '75vh', overflowY: 'auto', overflowX: 'hidden' }}>\r\n                {/* 添加、更新角色 */}\r\n                <Modal\r\n                  visible={this.state.visible2}\r\n                  onOk={this.addUser}\r\n                  onCancel={this.handleCancel2}\r\n                  closable={false}\r\n                  destroyOnClose={true}\r\n                  footer={null}\r\n                >\r\n                  <AddRoleFrom handleCancel={this.handleCancel2.bind(this)} selectRoleAll={this.selectRoleAll} roleObj={roleObj}></AddRoleFrom>\r\n                </Modal>\r\n                <List\r\n                  itemLayout=\"horizontal\"\r\n                  dataSource={roleDatas}\r\n                  bordered={true}\r\n                  renderItem={(item, index) => (\r\n                    <List.Item>\r\n                      <List.Item.Meta style={{ width: '60px', overflow: 'hidden' }}\r\n                        title={<a href=\"https://ant.design\" style={{ overflow: 'hidden' }}>{item.name}</a>}\r\n                        description={item.desc}\r\n                      />\r\n                      {/* 操作 */}\r\n                      <div className=\"operation\">\r\n                        <Icon type=\"edit\" style={{ marginRight: '1rem', marginLeft: '0.5rem' }} onClick={this.showModal2.bind(this, item)} />\r\n                        <Icon type=\"delete\" onClick={this.removeRole.bind(this, item.id, index)} />\r\n                      </div>\r\n                    </List.Item>\r\n\r\n                  )}>\r\n                  <Button type=\"dashed\" block style={{ position: 'absolute', bottom: '0', height: '3rem', bottom: '-2' }} onClick={this.showModal2.bind(this)}><Icon type=\"plus\" />添加角色</Button>\r\n                </List>\r\n              </Col>\r\n              <Col span={18} offset={1} style={{ border: '1px solid #d9d9d9', height: '75vh' }}>\r\n\r\n              </Col>\r\n            </Row>\r\n          </TabPane>\r\n        </Tabs>\r\n      </div >\r\n    )\r\n  }\r\n}\r\nclass AddRole extends Component {\r\n\r\n  constructor(props) {\r\n    super(props)\r\n    this.state = {\r\n      loading: false\r\n    }\r\n  }\r\n\r\n  addRole = (e) => { //添加 || 更新 角色\r\n    this.setState({\r\n      loading: true\r\n    });\r\n    e.preventDefault();\r\n    this.props.form.validateFields((err, values) => {\r\n      if (!err) {\r\n        let id = this.props.roleObj.id;\r\n        if (id != undefined) {\r\n          values.id = id;\r\n        }\r\n        let promise = apiRequest.all(\"addRole\", values, \"更新成功\", \"服务器繁忙请稍后重试！\");\r\n        var thic = this;\r\n        promise.then(function (value) {\r\n          if (value.code === 1) {\r\n            thic.setState({\r\n              loading: false\r\n            });\r\n            thic.props.handleCancel();\r\n            thic.props.selectRoleAll();\r\n          }\r\n\r\n        })\r\n      }\r\n    })\r\n  }\r\n\r\n\r\n\r\n  render() {\r\n    const formItemLayout = {\r\n      labelCol: { span: 4 },\r\n      wrapperCol: { span: 10 },\r\n    };\r\n    const { loading } = this.state;\r\n    const { getFieldDecorator } = this.props.form;\r\n    const roleObj = this.props.roleObj;\r\n    console.log(roleObj);\r\n    return (\r\n      <Form >\r\n        <Form.Item\r\n          label=\"角色名称\"\r\n          required\r\n          {...formItemLayout}\r\n          style={{ marginBottom: '0' }}\r\n        >\r\n          {getFieldDecorator('name', {\r\n            rules: [{ required: true, message: '请填写角色名称' }],\r\n            initialValue: (roleObj.name === undefined ? '' : roleObj.name)\r\n          })(\r\n            <Input name=\"name\" placeholder=\"请输入角色名称\" type=\"text\" />\r\n          )}\r\n        </Form.Item>\r\n        <Form.Item\r\n          label=\"描述\"\r\n          required={false}\r\n          {...formItemLayout}\r\n          style={{ marginBottom: '0' }}\r\n        >\r\n          {getFieldDecorator('desc', {\r\n            rules: [{ required: false }],\r\n            initialValue: (roleObj.desc === undefined ? '' : roleObj.desc)\r\n          })(\r\n            <Input placeholder=\"请输入角色描述\" type=\"text\" maxLength={50} />\r\n          )}\r\n\r\n        </Form.Item>\r\n        <div style={{ width: '100%', textAlign: 'center', marginTop: '1rem' }}>\r\n          <Button key=\"back\" onClick={this.props.handleCancel}>取消</Button>\r\n          <Button key=\"submit\" type=\"primary\" loading={loading} onClick={this.addRole} style={{ marginLeft: '10px' }}>\r\n            提交\r\n            </Button>\r\n        </div>\r\n      </Form>\r\n    );\r\n  }\r\n}\r\nclass AddUser extends Component {\r\n  constructor(props) {\r\n    super(props)\r\n    this.state = {\r\n      roles: [],\r\n      loading: false\r\n    }\r\n  }\r\n  getRole = () => {\r\n    var roles = [{\r\n      label: \"代理商\",\r\n      value: 1\r\n    }, {\r\n      label: \"企业用户\",\r\n      value: 2\r\n    }];\r\n    this.setState({\r\n      roles: roles\r\n    })\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.getRole();\r\n  }\r\n  addUser = (e) => { //添加用户\r\n    e.preventDefault();\r\n    this.setState({\r\n      loading: true\r\n    });\r\n    this.props.form.validateFields((err, values) => {\r\n      if (!err) {\r\n        var data = {\r\n          account: values.account,\r\n          roleid: values.roleId\r\n        };\r\n        let thic = this;\r\n        let promise = apiRequest.all(\"saveAdmin\", data, \"添加成功\", null);\r\n        promise.then(function (value) {\r\n          if (value.code === 1) {\r\n            thic.props.queryPage(0, thic.props.size);\r\n            thic.props.handleCancel();\r\n          }\r\n          thic.setState({\r\n            loading: false\r\n          });\r\n        })\r\n      }\r\n    });\r\n  }\r\n\r\n  render() {\r\n    const formItemLayout = {\r\n      labelCol: { span: 4 },\r\n      wrapperCol: { span: 10 },\r\n    };\r\n    const { roles, loading } = this.state;\r\n    const { getFieldDecorator } = this.props.form;\r\n    return (\r\n      <Form >\r\n        <Form.Item\r\n          label=\"账号\"\r\n          required\r\n          {...formItemLayout}\r\n          style={{ marginBottom: '0' }}\r\n        >\r\n          {getFieldDecorator('account', {\r\n            rules: [{ required: true, message: '请填写您的账号' }],\r\n          })(\r\n            <Input placeholder=\"请输入账号\" type=\"text\" />\r\n          )}\r\n        </Form.Item>\r\n        <Form.Item\r\n          label=\"角色\"\r\n          required\r\n          {...formItemLayout}\r\n          style={{ marginBottom: '0' }}\r\n        >\r\n          {getFieldDecorator('roleId', {\r\n            rules: [{ required: true, message: '请选择角色' }],\r\n          })(\r\n            <Select style={{ width: 120 }}>\r\n              {\r\n                roles.map((item, index) => {\r\n                  return (\r\n                    <Option value={item.value} key={index}>{item.label}</Option>\r\n                  )\r\n                })\r\n              }\r\n            </Select>\r\n          )}\r\n        </Form.Item>\r\n        <div style={{ width: '100%', textAlign: 'center', marginTop: '1rem' }}>\r\n          <Button key=\"back\" onClick={this.props.handleCancel}>取消</Button>\r\n          <Button key=\"submit\" type=\"primary\" loading={loading} onClick={this.addUser} style={{ marginLeft: '10px' }}>\r\n            提交\r\n            </Button>\r\n        </div>\r\n      </Form>\r\n    )\r\n  }\r\n}\r\n\r\nclass AddMenu extends Component {\r\n\r\n  state = {\r\n    menus: []\r\n  }\r\n  componentDidMount() {\r\n    this.getParents();\r\n  }\r\n\r\n  addOrUpdate = (e) => {\r\n    e.preventDefault();\r\n    this.props.form.validateFields((err, values) => {\r\n      console.log(values);\r\n      if (!err) {\r\n        if (values.model != undefined || values.url != undefined) {\r\n          var data = {\r\n            name: values.name,\r\n            parentId: values.parentId[values.parentId.length - 1],\r\n            url: values.url == undefined ? \"\" : values.url,\r\n            module: values.model == undefined ? \"\" : values.model\r\n          }\r\n          let promise = apiRequest.all(\"updateMenu\", data, \"更新成功\", null);\r\n          var thic = this;\r\n          promise.then(function (value) {\r\n            if (value.code === 1) {\r\n              // thic.props.queryPage(0, thic.props.size);\r\n              thic.props.handleCancel();\r\n            }\r\n            thic.setState({\r\n              loading: false\r\n            });\r\n          })\r\n        } else {\r\n          message.warning(\"访问地址或组件名称不能为空！\", 3);\r\n        }\r\n      }\r\n    })\r\n  }\r\n\r\n  getParents = () => {\r\n    const { menus } = this.props;\r\n    const options = [{\r\n      value: 0,\r\n      label: '一级菜单',\r\n      children: null,\r\n    }];\r\n    for (let i = 0; i < menus.length; i++) {\r\n      let obj = menus[i];\r\n      let option = {\r\n        value: obj.id,\r\n        label: obj.name,\r\n        children: this.formatting(obj.children)\r\n      }\r\n      options.push(option);\r\n    }\r\n    console.log(menus);\r\n    this.setState({\r\n      menus: options\r\n    })\r\n  }\r\n\r\n  formatting = (children) => { //格式化数据\r\n    const options = []\r\n    for (let i = 0; i < children.length; i++) {\r\n      let obj = children[i];\r\n      let option = {\r\n        value: obj.id,\r\n        label: obj.name,\r\n        children: this.formatting(obj.children)\r\n      }\r\n      options.push(option);\r\n    }\r\n    return options;\r\n  }\r\n\r\n  render() {\r\n    const { getFieldDecorator } = this.props.form;\r\n    const formItemLayout = {\r\n      labelCol: { span: 4 },\r\n      wrapperCol: { span: 12 },\r\n    };\r\n    const selectBefore = (\r\n      <Select defaultValue=\"Http://\" style={{ width: 90 }}>\r\n        <Option value=\"Http://\">Http://</Option>\r\n        <Option value=\"Https://\">Https://</Option>\r\n      </Select>\r\n    );\r\n    return (\r\n      <Form {...formItemLayout} onSubmit={this.addOrUpdate}>\r\n        <Form.Item\r\n          label=\"菜单名称\"\r\n        >\r\n          {getFieldDecorator('name', {\r\n            rules: [{\r\n              required: true, message: '请填写菜单名称',\r\n            }],\r\n          })(\r\n            <Input placeholder=\"请填写菜单名称\" />\r\n          )}\r\n        </Form.Item>\r\n\r\n        <Form.Item label=\"选择级别\">\r\n          {getFieldDecorator('parentId', {\r\n            rules: [{\r\n              required: true, message: '请选择菜单级别',\r\n            }]\r\n          })(\r\n            <Cascader options={this.state.menus} placeholder=\"请选择菜单级别\" />\r\n          )}\r\n        </Form.Item>\r\n        <Form.Item label=\"访问路径\">\r\n          {getFieldDecorator('url', {\r\n            rules: [{\r\n              required: false, message: '',\r\n            }]\r\n          })(\r\n            <Input addonBefore={selectBefore} />\r\n          )}\r\n        </Form.Item>\r\n        <Form.Item label=\"组件名称\">\r\n          {getFieldDecorator('model', {\r\n            rules: [{\r\n              required: false, message: '',\r\n            }]\r\n          })(\r\n            <Input placeholder=\"请输入组件名称\" />\r\n          )}\r\n        </Form.Item>\r\n        <Form.Item >\r\n          <Button type=\"primary\" htmlType=\"submit\" >提交</Button>\r\n        </Form.Item>\r\n      </Form>\r\n    )\r\n  }\r\n}\r\nconst AddMenuFrom = Form.create()(AddMenu);\r\nconst AddUserFrom = Form.create()(AddUser);\r\nconst AddRoleFrom = Form.create()(AddRole);\r\n"]},"metadata":{},"sourceType":"module"}