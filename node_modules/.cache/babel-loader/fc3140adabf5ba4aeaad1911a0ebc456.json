{"ast":null,"code":"'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = undefined;\n\nvar _skeleton = require('antd/lib/skeleton');\n\nvar _skeleton2 = _interopRequireDefault(_skeleton);\n\nvar _list = require('antd/lib/list');\n\nvar _list2 = _interopRequireDefault(_list);\n\nvar _avatar = require('antd/lib/avatar');\n\nvar _avatar2 = _interopRequireDefault(_avatar);\n\nvar _extends = Object.assign || function (target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i];\n\n    for (var key in source) {\n      if (Object.prototype.hasOwnProperty.call(source, key)) {\n        target[key] = source[key];\n      }\n    }\n  }\n\n  return target;\n};\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _classnames = require('classnames');\n\nvar _classnames2 = _interopRequireDefault(_classnames);\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n}\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nfunction _toConsumableArray(arr) {\n  if (Array.isArray(arr)) {\n    for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) {\n      arr2[i] = arr[i];\n    }\n\n    return arr2;\n  } else {\n    return Array.from(arr);\n  }\n}\n\nvar styles = {\n  'list': 'antd-pro-notice-icon-list',\n  'item': 'antd-pro-notice-icon-item',\n  'meta': 'antd-pro-notice-icon-meta',\n  'avatar': 'antd-pro-notice-icon-avatar',\n  'iconElement': 'antd-pro-notice-icon-iconElement',\n  'read': 'antd-pro-notice-icon-read',\n  'title': 'antd-pro-notice-icon-title',\n  'description': 'antd-pro-notice-icon-description',\n  'datetime': 'antd-pro-notice-icon-datetime',\n  'extra': 'antd-pro-notice-icon-extra',\n  'loadMore': 'antd-pro-notice-icon-loadMore',\n  'loadedAll': 'antd-pro-notice-icon-loadedAll',\n  'notFound': 'antd-pro-notice-icon-notFound',\n  'clear': 'antd-pro-notice-icon-clear'\n};\nvar ListElement = null;\n\nfunction NoticeList(_ref) {\n  var _ref$data = _ref.data,\n      data = _ref$data === undefined ? [] : _ref$data,\n      _onClick = _ref.onClick,\n      onClear = _ref.onClear,\n      title = _ref.title,\n      locale = _ref.locale,\n      emptyText = _ref.emptyText,\n      emptyImage = _ref.emptyImage,\n      loading = _ref.loading,\n      onLoadMore = _ref.onLoadMore,\n      visible = _ref.visible,\n      _ref$loadedAll = _ref.loadedAll,\n      loadedAll = _ref$loadedAll === undefined ? true : _ref$loadedAll,\n      _ref$scrollToLoad = _ref.scrollToLoad,\n      scrollToLoad = _ref$scrollToLoad === undefined ? true : _ref$scrollToLoad,\n      _ref$showClear = _ref.showClear,\n      showClear = _ref$showClear === undefined ? true : _ref$showClear,\n      _ref$skeletonCount = _ref.skeletonCount,\n      skeletonCount = _ref$skeletonCount === undefined ? 5 : _ref$skeletonCount,\n      _ref$skeletonProps = _ref.skeletonProps,\n      skeletonProps = _ref$skeletonProps === undefined ? {} : _ref$skeletonProps;\n\n  if (data.length === 0) {\n    return _react2.default.createElement('div', {\n      className: styles.notFound\n    }, emptyImage ? _react2.default.createElement('img', {\n      src: emptyImage,\n      alt: 'not found'\n    }) : null, _react2.default.createElement('div', null, emptyText || locale.emptyText));\n  }\n\n  var loadingList = Array.from({\n    length: loading ? skeletonCount : 0\n  }).map(function () {\n    return {\n      loading: loading\n    };\n  });\n  var LoadMore = loadedAll ? _react2.default.createElement('div', {\n    className: (0, _classnames2.default)(styles.loadMore, styles.loadedAll)\n  }, _react2.default.createElement('span', null, locale.loadedAll)) : _react2.default.createElement('div', {\n    className: styles.loadMore,\n    onClick: onLoadMore\n  }, _react2.default.createElement('span', null, locale.loadMore));\n\n  var onScroll = function onScroll(event) {\n    if (!scrollToLoad || loading || loadedAll) return;\n    if (typeof onLoadMore !== 'function') return;\n    var t = event.currentTarget;\n\n    if (t.scrollHeight - t.scrollTop - t.clientHeight <= 40) {\n      onLoadMore(event);\n      ListElement = t;\n    }\n  };\n\n  if (!visible && ListElement) {\n    try {\n      ListElement.scrollTo(null, 0);\n    } catch (err) {\n      ListElement = null;\n    }\n  }\n\n  return _react2.default.createElement('div', null, _react2.default.createElement(_list2.default, {\n    className: styles.list,\n    loadMore: LoadMore,\n    onScroll: onScroll\n  }, [].concat(_toConsumableArray(data), _toConsumableArray(loadingList)).map(function (item, i) {\n    var itemCls = (0, _classnames2.default)(styles.item, _defineProperty({}, styles.read, item.read)); // eslint-disable-next-line no-nested-ternary\n\n    var leftIcon = item.avatar ? typeof item.avatar === 'string' ? _react2.default.createElement(_avatar2.default, {\n      className: styles.avatar,\n      src: item.avatar\n    }) : _react2.default.createElement('span', {\n      className: styles.iconElement\n    }, item.avatar) : null;\n    return _react2.default.createElement(_list2.default.Item, {\n      className: itemCls,\n      key: item.key || i,\n      onClick: function onClick() {\n        return _onClick(item);\n      }\n    }, _react2.default.createElement(_skeleton2.default, _extends({\n      avatar: true,\n      title: false,\n      active: true\n    }, skeletonProps, {\n      loading: item.loading\n    }), _react2.default.createElement(_list2.default.Item.Meta, {\n      className: styles.meta,\n      avatar: leftIcon,\n      title: _react2.default.createElement('div', {\n        className: styles.title\n      }, item.title, _react2.default.createElement('div', {\n        className: styles.extra\n      }, item.extra)),\n      description: _react2.default.createElement('div', null, _react2.default.createElement('div', {\n        className: styles.description,\n        title: item.description\n      }, item.description), _react2.default.createElement('div', {\n        className: styles.datetime\n      }, item.datetime))\n    })));\n  })), showClear ? _react2.default.createElement('div', {\n    className: styles.clear,\n    onClick: onClear\n  }, locale.clear, ' ', title) : null);\n}\n\nexports.default = NoticeList;\nmodule.exports = exports.default;","map":null,"metadata":{},"sourceType":"script"}